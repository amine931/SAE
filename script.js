// Dictionnaire de traductions
const translations = {
  // En-tête
  "header_home": {
      "fr": "Exposition 2025",
      "en": "Exhibition 2025"
  },
  "header_future": {
      "fr": "À venir en 2026",
      "en": "Coming in 2026"
  },
  "header_about": {
      "fr": "À Propos",
      "en": "About Us"
  },
  
  // Page d'accueil
  "home_title": {
      "fr": "Manuel du Monde",
      "en": "Textbooks of the World"
  },
  "home_subtitle": {
      "fr": "Une Histoire de l'Éducation",
      "en": "A History of Education"
  },
  "home_cta": {
      "fr": "Découvrir l'Exposition",
      "en": "Discover the Exhibition"
  },
  "featured_exhibitions": {
      "fr": "Expositions Vedettes",
      "en": "Featured Exhibitions"
  },
  "learn_more": {
      "fr": "En savoir plus",
      "en": "Learn more"
  },
  
  // Page À propos
  "about_hero_title": {
      "fr": "L'Équipe",
      "en": "The Team"
  },
  "about_hero_subtitle": {
      "fr": "Derrière la Vision",
      "en": "Behind the Vision"
  },
  "about_hero_text": {
      "fr": "Rencontrez les personnes passionnées qui donnent vie à ces expositions",
      "en": "Meet the passionate people who bring these exhibitions to life"
  },
  "mission_title": {
      "fr": "Notre Mission",
      "en": "Our Mission"
  },
  "mission_text_1": {
      "fr": "Nous nous consacrons à créer des expériences transformatives qui comblent le fossé entre l'art, la technologie et la société. Nos expositions visent à inspirer, défier et engager des publics de tous horizons, favorisant une compréhension plus profonde de notre monde en rapide évolution.",
      "en": "We are dedicated to creating transformative experiences that bridge the gap between art, technology, and society. Our exhibitions aim to inspire, challenge, and engage audiences from all backgrounds, fostering a deeper understanding of our rapidly evolving world."
  },
  "mission_text_2": {
      "fr": "Grâce à une curation soignée et une présentation innovante, nous cherchons à mettre en valeur le travail d'artistes et de penseurs visionnaires qui façonnent l'avenir de l'expression créative.",
      "en": "Through careful curation and innovative presentation, we seek to highlight the work of visionary artists and thinkers who are shaping the future of creative expression."
  },
  "team_title": {
      "fr": "Rencontrez Notre Équipe",
      "en": "Meet Our Team"
  },
  "role_artistic_director": {
      "fr": "Directeur Artistique",
      "en": "Artistic Director"
  },
  "role_technical_director": {
      "fr": "Directeur Technique",
      "en": "Technical Director"
  },
  "role_exhibition_curator": {
      "fr": "Commissaire d'Exposition",
      "en": "Exhibition Curator"
  },
  "role_educational_coordinator": {
      "fr": "Coordinateur Éducatif",
      "en": "Educational Coordinator"
  },
  "role_marketing_director": {
      "fr": "Directeur Marketing",
      "en": "Marketing Director"
  },
  "role_operations_manager": {
      "fr": "Responsable des Opérations",
      "en": "Operations Manager"
  },
  "mohamed_bio": {
      "fr": "Avec plus de 15 ans d'expérience dans le monde de l'art, Mohamed apporte une vision unique et une compréhension profonde des pratiques artistiques contemporaines.",
      "en": "With over 15 years of experience in the art world, Mohamed brings a unique vision and deep understanding of contemporary artistic practices."
  },
  "riyad_bio": {
      "fr": "La formation de Riyad en ingénierie et en médias numériques lui permet de faire le pont entre la vision artistique et la mise en œuvre technique.",
      "en": "Riyad's background in engineering and digital media allows him to bridge the gap between artistic vision and technical implementation."
  },
  "yunes_bio": {
      "fr": "Yunes a organisé des expositions dans le monde entier, avec une attention particulière pour les artistes émergents et les pratiques expérimentales.",
      "en": "Yunes has organized exhibitions worldwide, with a particular focus on emerging artists and experimental practices."
  },
  "ali_bio": {
      "fr": "Ali développe des programmes qui rendent nos expositions accessibles et engageantes pour les visiteurs de tous âges et de tous horizons.",
      "en": "Ali develops programs that make our exhibitions accessible and engaging for visitors of all ages and backgrounds."
  },
  "dimitar_bio": {
      "fr": "L'approche innovante de Dimitar en matière d'engagement du public a contribué à construire notre communauté d'amateurs d'art.",
      "en": "Dimitar's innovative approach to audience engagement has helped build our community of art enthusiasts."
  },
  "amine_bio": {
      "fr": "Amine veille à ce que chaque aspect de nos expositions se déroule sans accroc, de la logistique à l'expérience des visiteurs.",
      "en": "Amine ensures that every aspect of our exhibitions runs smoothly, from logistics to visitor experience."
  },
  "learn_more_btn": {
      "fr": "En savoir plus",
      "en": "Learn more"
  },
  "contact_title": {
      "fr": "Contactez-nous",
      "en": "Contact Us"
  },
  "contact_text": {
      "fr": "Vous avez des questions ou souhaitez collaborer ? Nous serions ravis de vous entendre.",
      "en": "Have questions or want to collaborate? We'd love to hear from you."
  },
  "contact_name": {
      "fr": "Votre nom",
      "en": "Your name"
  },
  "contact_email": {
      "fr": "Votre email",
      "en": "Your email"
  },
  "contact_message": {
      "fr": "Votre message",
      "en": "Your message"
  },
  "contact_submit": {
      "fr": "Envoyer le Message",
      "en": "Send Message"
  },
  
  // Page Future
  "future_title": {
      "fr": "Manuels du Monde",
      "en": "Textbooks of the World"
  },
  "future_subtitle": {
      "fr": "Enseigner l'Histoire à Travers les Cultures",
      "en": "Teaching History Across Cultures"
  },
  "future_dates": {
      "fr": "Du 28 Mars au 5 Octobre 2026",
      "en": "March 28 to October 5, 2026"
  },
  "download_program": {
      "fr": "Télécharger le Programme",
      "en": "Download Program"
  },
  
  // Pied de page
  "footer_contact": {
      "fr": "Contact",
      "en": "Contact"
  },
  "footer_visit": {
      "fr": "Visitez-nous",
      "en": "Visit Us"
  },
  "footer_copyright": {
      "fr": "Tous droits réservés.",
      "en": "All rights reserved."
  },
  
  // Bouton de langue
  "language_switch": {
      "fr": "English",
      "en": "Français"
  }
};

// Fonction pour changer la langue
function changeLanguage(lang) {
  // Enregistrer la préférence de langue
  localStorage.setItem('language', lang);
  
  // Mettre à jour tous les éléments avec l'attribut data-i18n
  document.querySelectorAll('[data-i18n]').forEach(element => {
      const key = element.getAttribute('data-i18n');
      
      if (translations[key] && translations[key][lang]) {
          // Si l'élément a un attribut placeholder, mettre à jour le placeholder
          if (element.hasAttribute('placeholder')) {
              element.setAttribute('placeholder', translations[key][lang]);
          } 
          // Sinon, mettre à jour le contenu textuel
          else {
              element.textContent = translations[key][lang];
          }
      }
  });
  
  // Mettre à jour le bouton de changement de langue
  const languageBtn = document.getElementById('language-switch');
  if (languageBtn) {
      languageBtn.textContent = translations['language_switch'][lang];
      languageBtn.setAttribute('data-lang', lang === 'fr' ? 'en' : 'fr');
  }
  
  // Mettre à jour l'attribut lang de la balise html
  document.documentElement.lang = lang;
}

// Fonction pour initialiser la langue
function initLanguage() {
  // Récupérer la langue enregistrée ou utiliser le français par défaut
  const currentLang = localStorage.getItem('language') || 'fr';
  
  // Appliquer la langue
  changeLanguage(currentLang);
  
  // Configurer le bouton de changement de langue
  const languageBtn = document.getElementById('language-switch');
  if (languageBtn) {
      languageBtn.addEventListener('click', function() {
          const newLang = this.getAttribute('data-lang');
          changeLanguage(newLang);
      });
  }
}

// Initialiser la langue au chargement de la page
document.addEventListener('DOMContentLoaded', initLanguage);

// Mobile Menu Toggle
document.addEventListener("DOMContentLoaded", () => {
    // Ajouter une classe pour l'animation d'entrée de page
    document.body.classList.add("page-enter")
    setTimeout(() => {
      document.body.classList.remove("page-enter")
    }, 700)
  
    const menuToggle = document.querySelector(".menu-toggle")
    const nav = document.querySelector("nav")
  
    if (menuToggle) {
      menuToggle.addEventListener("click", () => {
        nav.classList.toggle("active")
        menuToggle.classList.toggle("active")
      })
    }
  
    // Gestion des transitions de page
    const navLinks = document.querySelectorAll("nav a")
    navLinks.forEach((link) => {
      link.addEventListener("click", function (e) {
        // Ne pas appliquer l'animation si c'est la page active
        if (this.classList.contains("active")) return
  
        e.preventDefault()
        const targetHref = this.getAttribute("href")
  
        // Animation de sortie
        document.body.classList.add("page-exit")
  
        // Délai avant la navigation
        setTimeout(() => {
          window.location.href = targetHref
        }, 600) // Légèrement plus court que la durée de l'animation CSS
      })
    })
  
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault()
  
        const targetId = this.getAttribute("href")
        if (targetId === "#") return
  
        const targetElement = document.querySelector(targetId)
        if (targetElement) {
          window.scrollTo({
            top: targetElement.offsetTop - 80,
            behavior: "smooth",
          })
        }
  
        // Close mobile menu if open
        if (nav.classList.contains("active")) {
          nav.classList.remove("active")
          menuToggle.classList.remove("active")
        }
      })
    })
  
    // Header scroll effect - Masquer/afficher en fonction du défilement
    const header = document.querySelector("header")
    let lastScrollTop = 0
    const scrollThreshold = 100 // Seuil de défilement avant de masquer le header
  
    window.addEventListener(
      "scroll",
      () => {
        const currentScroll = window.pageYOffset || document.documentElement.scrollTop
  
        // Déterminer la direction du défilement
        if (currentScroll > lastScrollTop && currentScroll > scrollThreshold) {
          // Défilement vers le bas et au-delà du seuil - masquer le header
          header.classList.add("hidden")
        } else {
          // Défilement vers le haut ou au-dessus du seuil - afficher le header
          header.classList.remove("hidden")
  
          // Ajuster le style du header en fonction de la position
          if (currentScroll > 100) {
            header.style.padding = "1rem 5%"
            header.style.boxShadow = "0 5px 15px rgba(0, 0, 0, 0.1)"
          } else {
            header.style.padding = "1.5rem 5%"
            header.style.boxShadow = "0 2px 10px rgba(0, 0, 0, 0.1)"
          }
        }
  
        lastScrollTop = currentScroll <= 0 ? 0 : currentScroll // Pour les navigateurs mobiles
      },
      false,
    )
  
    // Countdown timer for 2026 page
    const countdownElement = document.getElementById("countdown-timer")
    if (countdownElement) {
      const daysElement = document.getElementById("days")
      const hoursElement = document.getElementById("hours")
      const minutesElement = document.getElementById("minutes")
      const secondsElement = document.getElementById("seconds")
  
      // Set the date for January 1, 2026
      const countdownDate = new Date("January 1, 2026 00:00:00").getTime()
  
      // Update the countdown every second
      const countdownTimer = setInterval(() => {
        // Get today's date and time
        const now = new Date().getTime()
  
        // Find the distance between now and the countdown date
        const distance = countdownDate - now
  
        // Time calculations for days, hours, minutes and seconds
        const days = Math.floor(distance / (1000 * 60 * 60 * 24))
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60))
        const seconds = Math.floor((distance % (1000 * 60)) / 1000)
  
        // Display the result
        if (daysElement) daysElement.textContent = days
        if (hoursElement) hoursElement.textContent = hours
        if (minutesElement) minutesElement.textContent = minutes
        if (secondsElement) secondsElement.textContent = seconds
  
        // If the countdown is finished, display a message
        if (distance < 0) {
          clearInterval(countdownTimer)
          if (countdownElement) {
            countdownElement.innerHTML = "<h3>L'Exposition a Commencé!</h3>"
          }
        }
      }, 1000)
    }
  
    // Animation on scroll
    const animateOnScroll = () => {
      const elements = document.querySelectorAll(".exhibition-card, .preview-card, .team-member, .partner")
  
      elements.forEach((element) => {
        const elementPosition = element.getBoundingClientRect().top
        const windowHeight = window.innerHeight
  
        if (elementPosition < windowHeight - 100) {
          element.style.opacity = "1"
          element.style.transform = "translateY(0)"
        }
      })
    }
  
    // Set initial state for animation elements
    document.querySelectorAll(".exhibition-card, .preview-card, .team-member, .partner").forEach((element) => {
      element.style.opacity = "0"
      element.style.transform = "translateY(20px)"
      element.style.transition = "opacity 0.5s ease, transform 0.5s ease"
    })
  
    // Run animation on page load and scroll
    window.addEventListener("load", animateOnScroll)
    window.addEventListener("scroll", animateOnScroll)
  
    // Form submission (prevent default for demo)
    const forms = document.querySelectorAll("form")
    forms.forEach((form) => {
      form.addEventListener("submit", function (e) {
        e.preventDefault()
        const submitButton = this.querySelector('button[type="submit"]')
        const originalText = submitButton.textContent
  
        submitButton.textContent = "Envoyé!"
        submitButton.style.backgroundColor = "var(--secondary-color)"
  
        // Reset form
        this.reset()
  
        // Reset button after 3 seconds
        setTimeout(() => {
          submitButton.textContent = originalText
          submitButton.style.backgroundColor = ""
        }, 3000)
      })
    })
  })
  
  